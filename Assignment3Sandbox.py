# -*- coding: utf-8 -*-
"""
this is the sandbox for Assignment 3 - bigger data than yours

"""

############################################
#
#           API from rentcast.io
#
############################################

# import requests

# url = "https://api.rentcast.io/v1/avm/value?address=5500%20Grand%20Lake%20Drive%2C%20San%20Antonio%2C%20TX%2C%2078244&propertyType=Single%20Family&bedrooms=4&bathrooms=2&squareFootage=1600&compCount=50"

# headers = {
#     "accept": "application/json",
#     "X-Api-Key": "53103c8e74074e6e868895e2b8395868"
# }

# response = requests.get(url, headers=headers)

# print(response.text)

###############################################
#
#             REDIS put in there
#
################################################


#from api only have limited pulls for testing so made 'JSONData'

import redis
from redis.commands.json.path import Path

JSONData = {"price":243000,"priceRangeLow":195000,"priceRangeHigh":290000,"longitude":-98.351442,"latitude":29.475962,"comparables":[{"id":"3419-Taurus-Sky,-Converse,-TX-78109","addressLine1":"3419 Taurus Sky","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"3419 Taurus Sky, Converse, TX 78109","latitude":29.46187,"longitude":-98.351796,"price":285000,"listedDate":"2023-09-17T00:00:00.000Z","lastSeenDate":"2023-11-03T00:00:00.000Z","daysOld":113,"distance":0.975,"correlation":0.9739,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1691,"lotSize":5009,"yearBuilt":2020},{"id":"4126-Sunrise-Glade-Dr,-San-Antonio,-TX-78244","addressLine1":"4126 Sunrise Glade Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"4126 Sunrise Glade Dr, San Antonio, TX 78244","latitude":29.46584,"longitude":-98.36432,"price":205000,"listedDate":"2023-12-01T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":1.0448,"correlation":0.9686,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1463,"lotSize":4617,"yearBuilt":1985},{"id":"4015-Sunrise-Bluff-Dr,-San-Antonio,-TX-78244","addressLine1":"4015 Sunrise Bluff Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"4015 Sunrise Bluff Dr, San Antonio, TX 78244","latitude":29.464294,"longitude":-98.36263,"price":197900,"listedDate":"2023-08-07T00:00:00.000Z","lastSeenDate":"2023-09-11T00:00:00.000Z","daysOld":166,"distance":1.0513,"correlation":0.9679,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1463,"lotSize":5053,"yearBuilt":1984},{"id":"7419-Preston-Trl,-San-Antonio,-TX-78244","addressLine1":"7419 Preston Trl","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"7419 Preston Trl, San Antonio, TX 78244","latitude":29.487932,"longitude":-98.340311,"price":259000,"listedDate":"2023-07-15T00:00:00.000Z","lastSeenDate":"2024-01-31T00:00:00.000Z","daysOld":24,"distance":1.0652,"correlation":0.9647,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1798,"lotSize":14723,"yearBuilt":1977},{"id":"4142-Sunrise-Crest-Dr,-San-Antonio,-TX-78244","addressLine1":"4142 Sunrise Crest Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"4142 Sunrise Crest Dr, San Antonio, TX 78244","latitude":29.46672,"longitude":-98.362746,"price":200000,"listedDate":"2024-02-01T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":0.9338,"correlation":0.9613,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1355,"lotSize":3964,"yearBuilt":1984},{"id":"6918-Moon-Lake-Dr,-San-Antonio,-TX-78244","addressLine1":"6918 Moon Lake Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"6918 Moon Lake Dr, San Antonio, TX 78244","latitude":29.477954,"longitude":-98.351707,"price":234500,"listedDate":"2023-11-22T00:00:00.000Z","lastSeenDate":"2024-01-29T00:00:00.000Z","daysOld":26,"distance":0.1387,"correlation":0.961,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":2163,"lotSize":8233,"yearBuilt":1973},{"id":"6702-Foster-Flds,-Converse,-TX-78109","addressLine1":"6702 Foster Flds","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"6702 Foster Flds, Converse, TX 78109","latitude":29.461356,"longitude":-98.35548,"price":254900,"listedDate":"2023-08-08T00:00:00.000Z","lastSeenDate":"2023-10-04T00:00:00.000Z","daysOld":143,"distance":1.0392,"correlation":0.9578,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1905,"lotSize":6316,"yearBuilt":2012},{"id":"5403-Shadow-Lake-Dr,-San-Antonio,-TX-78244","addressLine1":"5403 Shadow Lake Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"5403 Shadow Lake Dr, San Antonio, TX 78244","latitude":29.475328,"longitude":-98.353089,"price":125000,"listedDate":"2023-09-28T00:00:00.000Z","lastSeenDate":"2023-12-04T00:00:00.000Z","daysOld":82,"distance":0.1084,"correlation":0.9555,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":1.5,"squareFootage":1436,"lotSize":8481,"yearBuilt":1972},{"id":"5810-Rolling-Gln,-San-Antonio,-TX-78218","addressLine1":"5810 Rolling Gln","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"5810 Rolling Gln, San Antonio, TX 78218","latitude":29.479469,"longitude":-98.364861,"price":277690,"listedDate":"2023-05-15T00:00:00.000Z","lastSeenDate":"2023-10-06T00:00:00.000Z","daysOld":141,"distance":0.8437,"correlation":0.9542,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1619,"lotSize":4792,"yearBuilt":2022},{"id":"5831-Rolling-Gln,-San-Antonio,-TX-78218","addressLine1":"5831 Rolling Gln","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"5831 Rolling Gln, San Antonio, TX 78218","latitude":29.480029,"longitude":-98.365278,"price":285000,"listedDate":"2023-08-05T00:00:00.000Z","lastSeenDate":"2023-12-04T00:00:00.000Z","daysOld":82,"distance":0.8794,"correlation":0.9538,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1619,"lotSize":5053,"yearBuilt":2022},{"id":"6031-Bluestem-Way,-San-Antonio,-TX-78218","addressLine1":"6031 Bluestem Way","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6031 Bluestem Way, San Antonio, TX 78218","latitude":29.481632,"longitude":-98.367122,"price":289680,"listedDate":"2024-02-20T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":1.0224,"correlation":0.9514,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1619},{"id":"6210-Silver-Pegasus,-San-Antonio,-TX-78218","addressLine1":"6210 Silver Pegasus","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6210 Silver Pegasus, San Antonio, TX 78218","latitude":29.481632,"longitude":-98.367122,"price":280680,"listedDate":"2024-02-19T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":1.0224,"correlation":0.9514,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1619},{"id":"6235-Silver-Pegasus,-San-Antonio,-TX-78218","addressLine1":"6235 Silver Pegasus","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6235 Silver Pegasus, San Antonio, TX 78218","latitude":29.481632,"longitude":-98.367122,"price":265760,"listedDate":"2023-10-20T00:00:00.000Z","lastSeenDate":"2023-10-24T00:00:00.000Z","daysOld":123,"distance":1.0224,"correlation":0.951,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1619},{"id":"5966-Catalina-Sunrise-Dr,-San-Antonio,-TX-78244","addressLine1":"5966 Catalina Sunrise Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"5966 Catalina Sunrise Dr, San Antonio, TX 78244","latitude":29.469105,"longitude":-98.366444,"price":190000,"listedDate":"2023-07-11T00:00:00.000Z","lastSeenDate":"2023-09-06T00:00:00.000Z","daysOld":171,"distance":1.0203,"correlation":0.9424,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1484,"lotSize":5053,"yearBuilt":1986},{"id":"5802-Arcturus,-San-Antonio,-TX-78218","addressLine1":"5802 Arcturus","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"5802 Arcturus, San Antonio, TX 78218","latitude":29.479101,"longitude":-98.365593,"price":285170,"listedDate":"2023-07-10T00:00:00.000Z","lastSeenDate":"2023-09-12T00:00:00.000Z","daysOld":165,"distance":0.8793,"correlation":0.938,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1824,"lotSize":4800,"yearBuilt":2023},{"id":"6219-Silver-Pegasus,-San-Antonio,-TX-78218","addressLine1":"6219 Silver Pegasus","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6219 Silver Pegasus, San Antonio, TX 78218","latitude":29.479029,"longitude":-98.367073,"price":279670,"listedDate":"2024-01-25T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":0.9649,"correlation":0.937,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1824,"lotSize":4792,"yearBuilt":2023},{"id":"6226-Silver-Pegasus,-San-Antonio,-TX-78218","addressLine1":"6226 Silver Pegasus","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6226 Silver Pegasus, San Antonio, TX 78218","latitude":29.478634,"longitude":-98.366867,"price":299650,"listedDate":"2024-01-26T00:00:00.000Z","lastSeenDate":"2024-02-19T00:00:00.000Z","daysOld":5,"distance":0.947,"correlation":0.9365,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1837,"lotSize":4792,"yearBuilt":2022},{"id":"6039-Bluestem-Way,-San-Antonio,-TX-78218","addressLine1":"6039 Bluestem Way","city":"San Antonio","state":"TX","zipCode":"78218","formattedAddress":"6039 Bluestem Way, San Antonio, TX 78218","latitude":29.481632,"longitude":-98.367122,"price":292670,"listedDate":"2024-02-19T00:00:00.000Z","lastSeenDate":"2024-02-23T00:00:00.000Z","daysOld":1,"distance":1.0224,"correlation":0.9351,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1837},{"id":"3835-Snowbird,-Converse,-TX-78109","addressLine1":"3835 Snowbird","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"3835 Snowbird, Converse, TX 78109","latitude":29.465187,"longitude":-98.339736,"price":240000,"listedDate":"2023-12-20T00:00:00.000Z","lastSeenDate":"2024-01-08T00:00:00.000Z","daysOld":47,"distance":1.0259,"correlation":0.9335,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1857,"lotSize":5401,"yearBuilt":2020},{"id":"3809-Colemans-Run,-Converse,-TX-78109","addressLine1":"3809 Colemans Run","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"3809 Colemans Run, Converse, TX 78109","latitude":29.465169,"longitude":-98.340695,"price":244900,"listedDate":"2024-01-09T00:00:00.000Z","lastSeenDate":"2024-02-20T00:00:00.000Z","daysOld":4,"distance":0.988,"correlation":0.9329,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1880,"lotSize":5401,"yearBuilt":2019},{"id":"6086-Glacier-Sun-Dr,-San-Antonio,-TX-78244","addressLine1":"6086 Glacier Sun Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"6086 Glacier Sun Dr, San Antonio, TX 78244","latitude":29.46354,"longitude":-98.361734,"price":190000,"listedDate":"2022-11-15T00:00:00.000Z","lastSeenDate":"2023-09-06T00:00:00.000Z","daysOld":171,"distance":1.0594,"correlation":0.9326,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":1060,"lotSize":6970,"yearBuilt":1985},{"id":"6834-Lucky-Flds,-Converse,-TX-78109","addressLine1":"6834 Lucky Flds","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"6834 Lucky Flds, Converse, TX 78109","latitude":29.463874,"longitude":-98.353626,"price":244900,"listedDate":"2023-06-17T00:00:00.000Z","lastSeenDate":"2023-09-25T00:00:00.000Z","daysOld":152,"distance":0.8464,"correlation":0.9323,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2,"squareFootage":2533,"lotSize":6708,"yearBuilt":2006},{"id":"3519-Alonzo-Flds,-Converse,-TX-78109","addressLine1":"3519 Alonzo Flds","city":"Converse","state":"TX","zipCode":"78109","formattedAddress":"3519 Alonzo Flds, Converse, TX 78109","latitude":29.461698,"longitude":-98.359025,"price":255000,"listedDate":"2023-09-22T00:00:00.000Z","lastSeenDate":"2023-12-15T00:00:00.000Z","daysOld":71,"distance":1.0872,"correlation":0.9318,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":2.5,"squareFootage":1865,"lotSize":4400,"yearBuilt":2009},{"id":"5102-Pond-Lk,-San-Antonio,-TX-78244","addressLine1":"5102 Pond Lk","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"5102 Pond Lk, San Antonio, TX 78244","latitude":29.472043,"longitude":-98.350366,"price":269000,"listedDate":"2023-05-24T00:00:00.000Z","lastSeenDate":"2023-09-27T00:00:00.000Z","daysOld":150,"distance":0.2787,"correlation":0.9317,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":3,"squareFootage":1681,"lotSize":5227,"yearBuilt":1986},{"id":"5718-Elk-Lake-Dr,-San-Antonio,-TX-78244","addressLine1":"5718 Elk Lake Dr","city":"San Antonio","state":"TX","zipCode":"78244","formattedAddress":"5718 Elk Lake Dr, San Antonio, TX 78244","latitude":29.480063,"longitude":-98.354036,"price":119900,"listedDate":"2024-01-23T00:00:00.000Z","lastSeenDate":"2024-02-05T00:00:00.000Z","daysOld":19,"distance":0.3238,"correlation":0.9309,"county":"Bexar","propertyType":"Single Family","bedrooms":4,"bathrooms":1.5,"squareFootage":1197,"lotSize":7100,"yearBuilt":1972}]}

#need to change  to redis server host and port
#need to install the redis-py library and the redis-py-json package

client = redis.Redis(host='localhost', port=6379, db=0)

jane = {

    'name': "Jane",

    'Age': 33,

    'Location': "Chawton"

}


client.json().set('person:1', Path.rootPath(), jane)

result = client.json().get('person:1')

###############################################
#
#             REDIS take it outta there
#
################################################


#no idea 